<html>
<head>
<style>
img{height:250px; width:500px;}
</style>
</head>
<body>
<input type="text" id="key_in">
<button onclick="set();">set</button><br>
<img id="IMG"><br>
<p id="date">date</p><br>
<button onclick="slide(-1)"><<</button>
<button style="background-color:white;" id="SN">1 of 4</button>
<button onclick="slide(1)">>></button><br>
<input type="date" id="DATE" value="2015-06-03"><br>
<button onclick="fetchData();">search</button>
<p id="key_out" style="color:red;">api key is required</p>

<script>
const url="https://api.nasa.gov/mars-photos/api/v1/rovers/curiosity/photos?api_key=";
var api_key="cixz4I9UTkxdUVkiqdfzY3gitaatNfN7qcTu5WGy";
var i=0;

const fetchData=async()=>
{
try
{
var date="&earth_date="+document.getElementById("DATE").value;
const response=await fetch(`${url}${api_key}${date}`);
const data= await response.json();
display(data);
}
catch
{
alert("please check the api key");
}
}

function display(data)
{
document.getElementById("IMG").src=data.photos[i].img_src;
document.getElementById("SN").innerHTML=(i+1)+"/"+data.photos.length;
}

function slide(x)
{
i+=x;
fetchData();
}

function set()
{
if(document.getElementById("key_in").value!="")
{
api_key=document.getElementById("key_in").value;
document.getElementById("key_in").value="";
document.getElementById("key_out").innerHTML="api key: "+api_key;
document.getElementById("key_out").style.color="green";
}
}
</script>
</body>
</html>
