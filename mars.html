<html>
<head>
<style>
img{height:500px; width:1000px;}
p{color:white;}
</style>
</head>
<body style="background-color:black;">
<div>
<a id="link"><img id="IMG"></a>
<div style="float:right;">
<p id="desc"></p><br>
<img id="rover" style="height:250px; width:250px;"><br>
</div></div>
<fieldset style="background-color:white;">
<button onclick="slide(-1)"><<</button>
<button style="background-color:white;" id="SN">1 of 4</button>
<button onclick="slide(1)">>></button><br>
<input type="date" id="DATE" value="2015-06-03"><br>
API key: <input type="text" id="key_in" value="DEMO_KEY"><br>
<input type="radio" id="r1" name="0"  onclick="about();" checked>curiosity<br>
<input type="radio" id="r2" name="0" onclick="about();">opportunity<br>
<input type="radio" id="r3" name="0" onclick="about();">spirit<br>
<button onclick="fetchData();">search</button>
</fieldset>




<p id="about"></p>










<script>
const _url="https://api.nasa.gov/mars-photos/api/v1/rovers/"
var i=0;
var rover;

const fetchData=async()=>
{
rover="curiosity";
if(document.getElementById("r2").checked==true)
{rover="opportunity";}
if(document.getElementById("r3").checked==true)
{rover="spirit";}
const url=_url+rover+"/photos?api_key=";
const api_key=document.getElementById("key_in").value;
var date="&earth_date="+document.getElementById("DATE").value;
const response=await fetch(`${url}${api_key}${date}`);
const data=await response.json();
display(data);
}

function display(data)
{
document.getElementById("IMG").src=data.photos[i].img_src;
document.getElementById("link").href=data.photos[i].img_src;
document.getElementById("SN").innerHTML="image "+(i+1)+" of "+data.photos.length;
var s="";
s+="<br>sol: "+data.photos[i].sol;
s+="<br>camera: "+data.photos[i].camera.full_name;
s+="<br>earth date: "+data.photos[i].earth_date;
s+="<br>rover: "+data.photos[i].rover.name;
s+="<br>landing date: "+data.photos[i].rover.landing_date;
s+="<br>launch date: "+data.photos[i].rover.launch_date;
s+="<br>status: "+data.photos[i].rover.status;
s+="<br>max sol: "+data.photos[i].rover.max_sol;
s+="<br>max date: "+data.photos[i].rover.max_date;
s+="<br>total photos: "+data.photos[i].rover.total_photos;
document.getElementById("desc").innerHTML=s;
}

function slide(x)
{
i+=x;
fetchData();
}

function about()
{
document.getElementById("rover").src="curiosity.jpg";
document.getElementById("about").innerHTML="landing date: 2012-08-06<br>max date: 2024-02-19<br>Curiosity is a car-sized Mars rover exploring Gale crater and Mount Sharp on Mars as part of NASA's Mars Science Laboratory (MSL) mission.<br>Curiosity was launched from Cape Canaveral (CCAFS) on November 26,2011,<br>at 15:02:00 UTC and landed on Aeolis Palus inside Gale crater on Mars on August 6, 2012, 05:17:57 UTC. The Bradbury Landing site was less than 2.4 km (1.5 mi) from the center of the rover's touchdown target after a 560 million km (350 million mi) journey.";
if(document.getElementById("r2").checked==true)
{
document.getElementById("rover").src="opportunity.jpg";
document.getElementById("about").innerHTML="landing date: 2004-01-25<br>max date: 2018-06-11";
}
if(document.getElementById("r3").checked==true)
{
document.getElementById("rover").src="spirit.jpg";
document.getElementById("about").innerHTML="landing date: 2004-01-04<br>max date: 2010-03-21";
}
}

</script>
</body>
</html>
