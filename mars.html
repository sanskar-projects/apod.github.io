<html>
<head>
<style>
img{height:500px; width:500px;}
</style>
</head>
<body>
<div>
<img id="IMG">
<p id="desc" style="float:right;"></p>
</div>



<button onclick="slide(-1)"><<</button>
<button style="background-color:white;" id="SN">1 of 4</button>
<button onclick="slide(1)">>></button><br>
<input type="date" id="DATE" value="2015-06-03"><br>
API key: <input type="text" id="key_in" value="">
<button onclick="set();">default</button><br>
<button onclick="fetchData();">search</button>





<script>
const url="https://api.nasa.gov/mars-photos/api/v1/rovers/curiosity/photos?api_key=";
var i=0;
var x;

const fetchData=async()=>
{
const api_key=document.getElementById("key_in").value;
var date="&earth_date="+document.getElementById("DATE").value;
const response=await fetch(`${url}${api_key}${date}`);
const data=await response.json();
x=Object.assign({},data);
alert(x.photos[0].sol);
display(data);
}

function display(data)
{
document.getElementById("IMG").src=data.photos[i].img_src;
document.getElementById("SN").innerHTML="image "+(i+1)+" of "+data.photos.length;
var s="";
s+="<br>sol: "+data.photos[i].sol;
s+="<br>camera: "+data.photos[i].camera.full_name;
s+="<br>earth date: "+data.photos[i].earth_date;
s+="<br>rover: "+data.photos[i].rover.name;
s+="<br>landing date: "+data.photos[i].rover.landing_date;
s+="<br>launch date: "+data.photos[i].rover.launch_date;
s+="<br>status: "+data.photos[i].rover.status;
s+="<br>max sol: "+data.photos[i].rover.max_sol;
s+="<br>max date: "+data.photos[i].rover.max_date;
s+="<br>total photos: "+data.photos[i].rover.total_photos;
document.getElementById("desc").innerHTML=s;
}

function slide(x)
{
i+=x;
fetchData();
}

function set()
{
document.getElementById("key_in").value="DEMO_KEY";
}

</script>
</body>
</html>
